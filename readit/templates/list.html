<!-- vim: set ts=2 sw=2 sts=2 et: -->
{% extends "layout.html" %}

{% block prologue %}

<script
  type="text/javascript"
  src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.js">
  </script>
<script
  type="text/javascript"
  src="{{ url_for('static', filename='jqtouch/jqtouch.js') }}">
  </script>
<script type="text/javascript">
$.jQTouch({ });
$(document).ready(function() {
  $('.reading').click(function(arg) {
    var $this = $(this);
    console.log($this.attr('link'));
    document.location = $this.attr('link');
  });
});
</script>
{% endblock %}

{% block body %}
<div id="readinglist" class="active">
  <div class="toolbar">
    <h1>You Read These</h1>
    <a href="{{ url_for('logout') }}" class="button">X</a>
  </div>
  <ul>
  {% set row_class = cycler('odd', 'even') %}
  {% for reading in read_list %}
    <li class="arrow reading {{ row_class.next() }}"
      link="{{ reading.link }}" id="{{ reading.id }}">
      <span><a href="{{ reading.link }}">{{ reading.title }}</a></span>
      <div class="largescreen">
        <span rel="link">{{ reading.link }}</span> read on
        <span rel="when">{{ reading.when.strftime("%a, %d %b %Y %H:%M:%S GMT") }}</span>
      </div>
    </li>
  {% endfor %}
  </ul>
</div>
{% endblock %}
